# 项目

## 程序结构

- 模块⽤于组织较⼤的Python项⽬
- Python标准库拆分为多个模块，以便管理。
- 模块以⽂件形式存放，⼀个模块定义了⼀组Python 函数和其他对象，它们是有关联的
- ⼀个Python程序可以在不同⽂件中，这些⽂件是⼀个个模块。⽤import语句引⼊
- 模块名是另外⼀个Python⽂件的⽂件名,不包含扩展名,模块就是可以运⾏的程序
- `import <模块名>`就是执⾏由模块名代表的程序
- 引入模块中的函数另⼀⽅法

  - `from <模块名> import  *`
    - 这种⽅法引⼊模块中的所有函数，调⽤的时候不需要再加模块名

  - `from <模块名> import <函数名>`
    - 这种⽅法引⼊模块中的单个函数，调⽤的时候也不需要再加模块名
- 模块名字空间

  - 每个py文件是一个模块，模块名就是文件名

  - 在每个模块里的全局变量和函数是模块内的，在模块内部可以直接使用，在模块外部要通过模块的名字引用

  - 用哪个py文件启动程序，那个py文件的模块的模块空间就是全局名字空间

  - `dir(模块名)`：显示模块属性
- `__main__`
  - 程序运⾏时，解释器会制造变量`__name__`
  - 如果模块作为主程序运⾏，`__name__`变量的值是 `__main__`
  - 如果模块被另⼀模块导⼊，`__name__`变量的值是 模块名

  - 作为主程序运⾏（⽂件名factorial.py）

## `sys`模块

- 如果area.py和triangle.py上述两个⽂件在同⼀个⽬录下，通过Python运⾏主程序area.py,会引⽤triangle模块，执⾏函数area
- 如不在同⼀⽬录，可⽤sys模块加⼊搜索路径后调⽤。
- 模块的查找路径：`sys.path`

- sys模块中的常⽤函数和其他重要对象

  - `sys.argv`：命令行参数

  - `sys.exit([arg])`：程序中间的退出，`arg=0`为正常退出

  - `sys.getdefaultencoding()`：获取系统当前编码

  - `sys.setdefaultencoding()`：设置系统默认编码

  - `sys.getfilesystemencoding()`：获取⽂件系统使⽤的编码⽅式，Windows下返回'mbcs'，mac下返回'utf-8'

  - `sys.path`：模块搜索路径的字符串列表

  - `sys.platform`：获取当前系统平台

  - `sys.stdin, sys.stdout, sys.stderr`： 变量包含与标准I/O流对应的流对象. 如果需要更好地控制输出,⽽`print`不能满⾜你的要求, 它们就是你所需要的. 你也可以替换它们, 这时候你就可以重定向输出和输⼊到其它设备, 或者以⾮标准的 ⽅式处理它们

## 命令行参数

- sys.argv[0] #程序的⽂件名
- sys.argv[1] 第⼀个参数

## 包

- 包是模块概念的⾃然扩展，旨在应付⼤型的项⽬
- 模块把相关的函数、类和变量组织到⼀个⽂件中
- 包则把相关的模块组织到⼀个⽬录中
- 包是⼀个⽬录，其中包含⼀组模块⽂件和⼀个`init.py`⽂件
- `init.py`可以是空⽂件，但⽬录中必须有
- 第⼀次加载包时，会执⾏`init.py`⽂件，完成初始化⼯作
- 如果模块存在于包中，使⽤`import 包名.模块名`形式导⼊包中模块
- ⽤以下形式调⽤函数：`包名.模块名.函数`
