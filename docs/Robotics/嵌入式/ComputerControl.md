# 计算机控制系统


!!! note "课程信息"
    - 授课教师：
    - 上课时间：2025春夏
    - 学分：3.5pt
    - 成绩组成:<br>平时成绩占20%——出勤、课堂测试/互动/交流、作业<br>
        实践成绩占35%——综合实践大作业，小组情况、个人完成情况各占50%计算<br>
        期末考试占45%——半开卷，1张A4纸，手写，复印无效<br>
    ![](https://philfan-pic.oss-cn-beijing.aliyuncs.com/img/20250220082031246.png)
    

<iframe src="http://www.cse.zju.edu.cn/aec/2012/0308/c73095a2676372/page.htm" width="100%" height="600px" frameborder="0"></iframe>

## A4

[云高天遥 - A4原型](https://www.cc98.org/topic/5645283)

[Healor - A4](https://www.cc98.org/topic/5925911)

[Rainbow0 - A4](https://www.cc98.org/topic/5658322)

## 历年卷
[计算机控制系统设计与实践 2023-2024春夏 回忆卷 - CC98论坛](https://www.cc98.org/topic/5925877)

[计算机控制系统设计与实践（计控）22-23春夏回忆卷 - CC98论坛](https://www.cc98.org/topic/5644108)

[计算机控制系统设计与实践（计控）21-22春夏回忆卷 - CC98论坛](https://www.cc98.org/topic/5353159)



## 实验课

硬件、软件、编程、综合实践


## 第一章

!!! note "常见英文术语对照"
    - DDZ 电动单元组合元件
    - PLC
    - D/A，A/D
    - IO
    - DDC 直接数字量控制
    - DCS 集散控制
    - FCS 现场总线控制系统
    - CSMA/CD

### 自动控制（反馈控制）的基本逻辑

1. **控制的基本形式**：开环、闭环；  
   **基本要求**：稳、准、快、优

2. **四个（类）基本环节**：  
   - 被控对象、检测仪表、控制器、执行器
   - **对象**：工业过程、运动对象、社会科学问题  
   - **目标**：过程性＋结果性

3. **反馈的两种形式**：正反馈和负反馈


![](https://philfan-pic.oss-cn-beijing.aliyuncs.com/img/20250306110534039.png)

ai: 
ao: 


### 计算机控制系统组成

1. **计算机控制系统的工作过程**：  
   周期性，采样 + 分析决策 + 输出执行

2. **计算机控制系统的基本组成**：  
   软件（系统软件、支持软件、应用软件） + 硬件（可靠性、IO）

### 计算机控制的简要发展过程

1. **模拟调节器**：模拟电路调节

2. **计算机控制系统的几个典型发展阶段**：  
   DDC — 集中型 — DCS — FCS


![](https://philfan-pic.oss-cn-beijing.aliyuncs.com/img/20250227084020236.png)

### 网络通信技术简介

1. **若干基本概念**:模拟/数字；并行/串行；单工/半双工/全双工；

2. **串行总线**：RS-232、-422、-485

3. **现场总线**

4. **工业以太网**


## 检测仪表原理与选型

### 仪表分类

DDZ：电动单元组合元件
QDZ：气动单元组合元件

电流输入仪表、电压输入仪表及其输入阻抗

![](https://philfan-pic.oss-cn-beijing.aliyuncs.com/img/20250306083336979.png)


![](https://philfan-pic.oss-cn-beijing.aliyuncs.com/img/20250306111119766.png)



### 防爆
注意防爆等级

![](https://philfan-pic.oss-cn-beijing.aliyuncs.com/img/20250306083300792.png)

### 仪表防护
![](https://philfan-pic.oss-cn-beijing.aliyuncs.com/img/20250306090733047.png)

### 基本工作原理

模拟仪表框架

数字仪表框架


HART（Highway Addressable Remote Transducer）协议是一种用于现场设备（如传感器和执行器）的通信协议。它允许设备通过一根双绞线进行通信，既传输模拟信号（如4-20mA电流信号），又传输数字信号。



### 二线制和四线制
!!! note "DDZ：电动单元组合"

- DDZ-II型：分立元件电源220VAC信号0～10mA 
- DDZ-III型：集成电路电源24VDC信号4～20mA、1～5VDC

二线制(DDZ-III)比四线制(DDZ-II)更安全防爆
四线制可以抵消引线电阻

需要注意电阻信号的接线方式和变送器信号制的区别


数字仪表的信号标准:RS-232、RS-485、HART、各种现场总线标准（工业以太网）

### 变送器
继电器 - 


变送器是将各种工艺参数转换成统一的标准电信号



（一）压力（差压）变送器：问题式回顾
（二）温度传感及其变送：问题式回顾
（三）数字变送器
（四）开关量检测（不仅仅检测连续信号）


### 仪表选型
（一）检测仪表选型的若干要点：量程（合适的工作点）、准确度（够用就好）
（二）仪表材料选择及处理：酸碱腐蚀、氢腐蚀；特殊介质；高温、真空等特殊要求


## 执行器
执行器的作用？
接收控制信号，将能量转换为物理机械运动


### 调节阀

### 开关阀

### 电机开关控制

### 电机变频控制


## PLC

LAD(梯形图)、STL(语句表)、FBD(功能块图)、SCL(结构化语言，如类Pascal语言)、GRAPH(图表化语言)等，LAD和FBD可以互相转化，其他不可互相转化




### 程序结构
程序代码部分包含组织块（OB）和函数/块（FC和FB）。  
- **组织块（OB）**：  
   - **OB1块**：对应于C语言中的`main()`函数，是程序的入口点。  
   - **其他OB块**：对应于中断函数，用于处理特定的中断事件。  

- **函数/块（FC和FB）**：  
   - **FC（Function）**：子程序或函数，通过赋实参来调用。  
   - **FB（Function Block）**：函数块，通过背景数据块赋值来调用。  

数据部分包含数据块（DB块），它对应于全局变量。 

- **DB块**：用于存储和组织程序中使用的数据。需要有初始值的数据块。

系统函数部分包含系统功能块（SFB）和系统功能（SFC），它们对应于库函数。  
- **SFB（System Function Block）**：系统功能块，提供特定的系统功能。  
- **SFC（System Function）**：系统功能，提供特定的系统服务。  

编程语言对应：  
- **STEP 7**：用于西门子PLC编程的软件，支持结构化编程。  
- **C语言**：一种通用的编程语言，也支持结构化编程。  

系统开发的基本流程

![](https://philfan-pic.oss-cn-beijing.aliyuncs.com/img/20250331134941.png)

### 寻址方式

x.y
- x:  字节数：0-65536
- y:  位数：0-7 

1D = W = B = bit

### **1. LAD（梯形图 Ladder Diagram）**

**特点**：
- **图形化语言**：使用图形符号表示逻辑关系，类似于继电器控制电路图。
- **直观易懂**：适合电气工程师和初学者，易于理解和调试。
- **逻辑结构清晰**：通过梯级（Rung）表示逻辑关系，从上到下执行。

**应用场景**：
- 常用于简单的逻辑控制和顺序控制。
- 适合处理开关量信号和基本的逻辑运算。

### **2. FBD（功能块图 Function Block Diagram）**

**特点**：
- **模块化编程**：通过功能块（Function Block）实现模块化编程，提高代码复用性。
- **图形化语言**：使用图形符号表示功能块和信号流向。
- **适合复杂控制**：适合处理复杂的逻辑关系和算法。

**应用场景**：
- 常用于复杂的逻辑控制、过程控制和算法实现。
- 适合处理模拟量信号和复杂的数学运算。

### **3. SCL（结构化控制语言 Structured Control Language）**

**特点**：
- **文本化语言**：类似于高级编程语言（如C、Pascal），使用文本编写代码。
- **结构化编程**：支持结构化编程概念，如循环、分支、函数等。
- **灵活性高**：适合处理复杂的算法和数据处理。

**应用场景**：
- 常用于复杂的算法实现、数据处理和高级控制逻辑。
- 适合处理大量的数据和复杂的数学模型。

### **4. STL（语句表 Statement List）**

```
操作码 操作数(<=1个)
```

- A1，A2 累加器
- AR1
- AR2


**特点**：
- **文本化语言**：使用文本编写代码，类似于汇编语言。
- **底层编程**：适合处理底层的硬件操作和优化。
- **执行效率高**：由于接近机器语言，执行效率较高。

**应用场景**：
- 常用于对执行效率要求较高的场合。
- 适合处理实时性要求高的控制任务。

