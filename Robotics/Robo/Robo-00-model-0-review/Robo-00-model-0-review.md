# 大纲

![](https://github.com/robinvista/Mathematica/raw/master/gif/2.gif)


!!! note "课程信息"
    - 名称：机器人建模与控制
    - 授课教师：zrh
    - 本篇笔记来源：zhihu，老师课件，b站视频等


## 课程大纲
!!! tip "课程大纲"
    - [x] **空间描述与变换**：旋转矩阵、欧拉角、等效轴角、四元数及它们之间的变换
    - [x] **正运动学**：已知角度求末端位姿；关节空间to笛卡尔空间
    - [ ] **逆运动学**：已知位姿求解角度；给定工具坐标系的位置和姿态，解算出个各关节变量
    - [ ] **速度与静力**：讲关节空间速度映射到笛卡尔空间速度，通过雅可比矩阵描述
    - [ ] **轨迹规划**（Trajectory Planning）为每个关节计算连续的运动轨迹，使末端执行器在空间中从点A移动到点B。
    - [ ] **动力学**（Dynamics）描述了执行器的驱动扭矩与机械臂运动之间的关系。
    - [ ] **运动控制**（Motion Control）通过传感器检测运动状态，利用反馈调整执行器的输入，补偿系统误差，以实现期望的轨迹。
    - [ ] **力控制**（Force Control）：为了使机械臂以恒定的力在表面上滑动，需要应用力控制。
### 课程感想



## 使用资料

### ppt


### 文档
- [课程笔记 - 小胖一族](https://skillful-vest-b8d.notion.site/3d905d613c1046beb84c6a85c71818c5)
- [课后习题答案 - FLOG司马](https://www.cc98.org/topic/6115926)
- 

### A4

- [之一hzz A4](https://www.cc98.org/topic/5115478)
- [江水水儿 A4](https://www.cc98.org/topic/5595634/1#1)
- [Sodium01 A4](https://www.cc98.org/topic/5610926)
- [Rainbow0 A4 英文班](https://www.cc98.org/topic/5658322)
- [CHSAN A4 机器人学1](https://www.cc98.org/topic/5352954)
- [AnderK A4 机器人学1](https://www.cc98.org/topic/5116418)
- [林林home A4 机器人学1](https://www.cc98.org/topic/5116252)

## 基础概念


[机器人学入门（二）：基础知识 - 知乎](https://zhuanlan.zhihu.com/p/368988354)<br>
[机器人学入门（三）：空间描述和变换 - 知乎](https://zhuanlan.zhihu.com/p/369083000)<br>
[机器人学入门（五）：操作臂运动学 - 知乎](https://zhuanlan.zhihu.com/p/495983666)<br>

关节和连杆

这里可以举一个小小的例子，比如下面的图片，黑色箭头地方是关节，将关节连起来的是连杆

![](https://philfan-pic.oss-cn-beijing.aliyuncs.com/img/20250301191114339.png)


![](https://philfan-pic.oss-cn-beijing.aliyuncs.com/img/20250217105608273.png)

## 机建 回忆卷
### 2023春 英文班
[2023-2024春](https://www.cc98.org/topic/5871439)
**判断题（2 * 5）：**

!!! question "三轴相交是逆运动学有解析解的充分条件"


**选择题（2 * 5）**

!!! question "：下列说法错误的是"
    A. 旋转矩阵特征值均为1<br>                          
    B. 旋转矩阵行列式为1<br>
    C. 旋转矩阵列向量相互正交<br>
    D. 旋转矩阵列向量为单位向量<br>


**填空题**


!!! question "填空题1：线加速度公式"

!!! question "填空题2：齐次变换矩阵求逆"

!!! question "填空题3：旋转矩阵转四元数"



**大题**


!!! question "大题1：给定一个DH参数表，求 $^0_2T$"

!!! question "大题2：平面三连杆，$\theta_2$，$\theta_3$为定值，1为转动关节，4为移动关节"
    （1）求末端速度<br>
    （2）求奇异位形<br>
    （3）机械臂末端给一个力，$f_x$，$f_y$给定，给一个z轴力矩，求关节力矩<br>
    ![](https://philfan-pic.oss-cn-beijing.aliyuncs.com/img/20250217134232095.png)

!!! question "大题3：四元数插值"
    （1）请描述四元数插值与欧拉角插值的优势与劣势<br>
    （2）给定初始和结束两个q，slerp插值，$q_0 = [\frac{1}{2},\frac{1}{2},\frac{1}{2},\frac{1}{2}]$ $q_1 = [\frac{\sqrt{3}-1}{4}, -\frac{\sqrt{3}+1}{4}, -\frac{\sqrt{3}+1}{4}, \frac{\sqrt{3}-1}{4}]$<br>
    （3）要求角速度初始结束为0，中间段为常数，角速度连续，进行规划<br>

!!! question "大题4：计算转动惯量，质量为m，坐标系建在质心$\rho = k(\frac{l^2}{4} - x^2)$"
    （1）求k<br>
    （2）求转动惯量<br>
    ![](https://philfan-pic.oss-cn-beijing.aliyuncs.com/img/20250217134250046.png)

!!! question "大题5：两连杆机械臂，一个转动关节一个移动关节，质量集中于末端，标在图上了，求动力学方程"
    ![](https://philfan-pic.oss-cn-beijing.aliyuncs.com/img/20250217134313618.png)

!!! question "大题6：长方体工件插入问题"
    （1）给定任务，把长方体工件插入长方体凹槽，求自然约束和人工约束<br>
    （2）-（3）都是阻抗控制相关，没看懂题目<br>



### 2023 春
[2023春夏](https://www.cc98.org/topic/5595634/1#1)


!!! question "判断题1：分析雅克比是姿态的最小表示"

!!! question "判断题2：牛顿欧拉法是基于力学的方法，拉格朗日法是基于能量的方法"

!!! question "判断题3：一个旋转矩阵对应几个单位四元数"

!!! question "判断题4：关节空间动力学模型的 $G$ 和笛卡尔空间动力学模型的 $G_x$ 是否一样"


**填空题**

!!! question "填空题1：ZYX欧拉角"
    旋转矩阵 $R$ 的左边6项已知，求右边3项以及 $\alpha$、$\beta$、$\gamma$。利用 $R$ 和欧拉角转换的公式即可，有一定计算量。

!!! question "填空题2：轨迹规划"
    给了一些条件，需要几次多项式规划；初末用多项式连接，中间用直线规划，有多少解。

!!! question "填空题3：惯量积"
    XY平面是质量对称平面，哪几个惯量积为0。


**大题**


!!! question "四、（10分）旋转矩阵计算"
    右乘联体左乘积。

!!! question "五、（17分）R-P两关节平面机械臂"
    求末端速度在0坐标系的表示，求奇异位形，已知末端 $f_x$、$f_y$、$n_z$ 求关节 $\tau_1$、$\tau_2$（$l_z$ 是用前面算出的雅克比求的 $\tau$，用内推法应该也可以）。

!!! question "六、（16分）R-P两关节机械臂"
    质量集中，求动力学方程（拉格朗日法即可）；给出 $\theta$ 和 $d$ 的期望轨迹 $y_1(t)$ 和 $y_2(t)$，求控制率使得 $\theta$ 的两个特征根均为-1，$d$ 的两个特征根均为-3，用 $\alpha\beta$ 分解即可。

!!! question "七、（17分）力控制"
    （1）拧螺丝（和ppt不一样，不能沿Y轴运动，而且要考虑向下的Z速度）写自然约束和人工约束。<br>
    （2）讲了什么叫"平行力位控制"，就是力控制和位置控制并非正交，两个控制器的输出要相加。让结合力位混合控制的框图，画出平行力位控制的框图。这个在A4上抄了力位混合的框图就行。<br>
    （3）描述完成机器人按下门把推开门的控制策略和控制原理。

!!! question "八、（10分）规划姿态"
    用四元数插补实现。初始 $q_0$，结束 $q_1$，要求角速度连续，且初末角速度均为0。这个题没做过类似的，lz结合了Slerp方法并加了两个待定系数，利用 $q'(t=0)=0$ 和 $q'(t=1)=0$ 求解出了两个待定系数，但是不知道对不对，这题有点抽象。

### 2022 春
[2022春夏](https://www.cc98.org/topic/5353760)

**判断题（5分）**

!!! question "判断题1：单位四元数 $ab=ba$"

!!! question "判断题2：鲁棒控制和自适应控制参数变不变"

!!! question "判断题3：奇异位形"


**填空题（10分）**

!!! question "填空题1：$\alpha$-$\beta$ 分解"

!!! question "填空题2：右乘联体左乘基"


**大题**

!!! question "一、（10分）正四面体坐标系变换"
    正四面体三个顶点上画了三个坐标系，求一下三个 $T$ 矩阵（属于是立体几何题）。

!!! question "二、（10分）平面三自由度机械臂逆运动学"
    平面三自由度机械臂，第一个旋转关节，第二移动关节，第三个旋转关节，求 $\theta_1$、$d_2$、$\theta_3$。

!!! question "三、（10分）轨迹规划"
    起始点 $0°$，有个中间点 $40°$，终止点 $70°$，中间速度连续，起始速度为0，总时间1s，两个二次多项式规划。

!!! question "四、（15分）三旋转关节机器人"
    （1）算0坐标系下的雅可比矩阵<br>
    （2）题目给出具体的角度长度，让算一下各个关节的力矩。

!!! question "五、（15分）两自由度机械臂动力学"
    两自由度机械臂，第一个旋转关节，第二个移动关节，要求用牛顿欧拉法算动力学方程。

!!! question "六、（15分）力控制"
    （1）算了一个自然约束和人工约束<br>
    （2）混合力控框图和约束矩阵






## 机器人学 回忆卷
### 2023
[2023-2024 机器人学I 回忆卷 - CC98论坛](https://www.cc98.org/topic/5920696)


### 2023
[2023机器人学1/机器人学I 回忆 - CC98论坛](https://www.cc98.org/topic/5639736)

**判断题**：共5题，每题两分

1. 旋转矩阵的转置仍然是旋转矩阵。
2. 在一个串联关节机器人场景下，若其笛卡尔空间是6维，则其关节空间也是6维。
3. 等效轴角表示是姿态的最小表示。
4. 6关节机器人中，速度域的奇异位形不一定是力域的奇异位形。
5. 如果操作臂动力学模型为 $\tau = M(\Theta)\ddot{\Theta} + V(\Theta, \dot{\Theta}) + G(\Theta)$，则其动能为 $\frac{1}{2}\dot{\Theta}^T M(\Theta) \dot{\Theta}$。

**单选题**

1. 下面说法错误的是
   - 单位四元数的积仍是单位四元数。
   - 单位四元数的和仍是单位四元数。
   - 单位四元数的共轭仍是单位四元数。
   - 忘了。

2. 姿态等效轴角表示有几组？

3. DH表达法中，滑动关节的参数哪个是变量？

4. 角速度矩阵 $S$ 一定是
   - 对称矩阵。
   - 反对称矩阵。
   - 旋转矩阵。
   - 可逆矩阵。

5. 关于齐次变换矩阵的说法正确的是：
   选项忘了，但是应该是选最后一行一定是0001。

**大题**

!!! question "一、矩阵计算"
    给了一个 $R_{AB}$，然后B绕K转 $\theta$，再给 $R_{AB}$，求K和 $\theta$。用那个公式算就行，不过当时发现这两个矩阵的第二列相同，就偷懒了。

!!! question "二、控制设计"
    设计一个跟踪装置，要求稳定闭环零点。

!!! question "三、约束分析"
    一个操作臂，末端擦拭工件，求自然约束和人为约束。

!!! question "四、动力学分析"
    考了书上的操作臂RP操作臂，不一样的是：关节1的z轴朝上，关节2和关节1有个45°夹角，从平面运动变成空间运动。用拉格朗日法求解动力学方程。

!!! question "五、速度传递"
    一个2R连杆，跟书上不一样的是第二个关节转了90°（有点像竹蜻蜓那样），运动平面跟第一个杆的平面垂直，给了角度和角速度、杆的参数，求末端线速度在基座标系下的速度表示。可以用雅可比矩阵求解。


### 2021-2022
[2021-2022夏《机器人学I》回忆卷 - CC98论坛](https://www.cc98.org/topic/5352203)

**选择题**

!!! question "SCAR工业机器人有几个滑动关节，几个转动关节？"

!!! question "关于角速度向量哪个说法是错的？"
    

!!! question "关于PD控制哪个说法是错的？"
    

!!! question "复阻抗是力与什么的比值？"

!!! question "二、欧拉角转换"
    给定ZYZ固定角，求$Z'Y'X'$欧拉角

!!! question "三、旋转矩阵"
    已知AB之间旋转关系
    1. 求B关于A坐标系下$\{\frac{1}{\sqrt{3}}, \frac{1}{\sqrt{3}}, \frac{1}{\sqrt{3}}\}$旋转$30°$后两坐标系旋转矩阵
    2. 求B关于B坐标系下$\{\frac{1}{\sqrt{3}}, \frac{1}{\sqrt{3}}, \frac{1}{\sqrt{3}}\}$旋转$30°$后两坐标系旋转矩阵

!!! question "四、角速度分析"
    已知两连杆参数，求$0$坐标系下$2$坐标系角速度

!!! question "五、动力学分析"
    计算运动状态下连杆力，牛顿欧拉法或拉格朗日法那个，考虑重力，形状是横插在墙上的两连杆，第一个关节是移动关节，第二个关节是旋转关节

!!! question "六、轨迹规划"
    给定最大加速度和最大速度绝对值，求最小时间从起始角度运动到终止角度的轨迹

!!! question "七、控制设计"
    给定两力矩方程，设计线性控制方程（一个$Y$的矩阵，一个长得像$\theta$的那个字母）

!!! question "八、约束分析"
    拧螺母的自然约束和人为约束

!!! question "九、坐标变换"
    给定某$U$坐标系下$A$和$A'$的$T$（位姿矩阵），设计$C$使$A$绕$C$的$z$轴旋转某角度（未知，也不用算）后再向$z$轴方向平移一定距离（未知，也不用算）后得到$A'$，求$C$在$U$坐标系下的$T$

### 2021

[2021机器人学I](https://www.cc98.org/topic/5071145)

!!! question "一、选择题"
    1. 坐标系A和B重合，问欧拉参数
    2. 在 $\mathbb{R}^3$ 中的向量外积是不是半群/群
    3. 问静力传递式中的矩阵和速度雅可比之间的关系
    4. 考察惯性张量I的相关性质

!!! question "二、坐标变换"
    已知 ${}_B^A\!T$ 求 ${}_A^B\!T$

!!! question "三、静力分析"
    已知二连杆（与教材图3-29相同）静外力，求关节力矩

!!! question "四、旋转矩阵"
    已知一部分 $R_{Z'Y'X'}$ 的参数，求R

!!! question "五、动力学分析"
    一个PR机械臂，求动力学方程

!!! question "六、控制设计"
    非线性控制器设计，使得 $s=-2\pm0.5i$

!!! question "七、约束分析"
    求一个物块的自然约束

!!! question "八、四元数"
    单位四元数插补

!!! question "九、轨迹规划"
    约束条件下的单自由度机械臂运动规划


### 2019
[19年机器人学](https://www.cc98.org/topic/4901039)


!!! question "一、坐标变换"
    已知 ${}_A^B\!T$ 矩阵，求 ${}_B^A\!T$ 矩阵

!!! question "二、旋转矩阵"
    $B$ 坐标系先绕自身 $Z$ 轴旋转 $30°$，再绕 $A$ 坐标系 $Y$ 轴旋转 $45°$，再绕自身 $X$ 轴旋转 $60°$，求 $R_{AB}$。并用一组固定角表示出来。

!!! question "三、运动学分析"
    二连杆机械臂，已知 $\{0\}$ 坐标系下末端位置，末端线速度，求解关节角，关节角加速度。

!!! question "四、静力分析"
    二连杆机械臂，已知两个关节的力矩，求解末端的作用力。

!!! question "五、动力学分析"
    单连杆机械臂，求解动力学方程，用 $\tau$、$\theta$、$\dot{\theta}$ 表示。

!!! question "六、控制设计"
    二次系统求解控制律，动力学方程是 $0.05\ddot{\theta} + 0.7\dot{\theta} + \cos(\theta)=\tau$，要求系统极点为 $-1\pm2i$。

!!! question "七、轨迹规划"
    用两段三次曲线规划路径，已知起始静止在 $30°$，中间点第 $2$ 秒到达 $50°$，最终第 $4$ 秒停止在 $90°$，要求中间点处加速度连续。

!!! question "八、综合"
    1. ZMP 有哪三种
    2. 已知左脚作用力为 $20N$，作用点为 $(1,2)$，右脚作用力为 $15N$，作用点为 $(3,4)$，求 ZMP
    3. Rodrigues 公式如何表示

## 小测

$$
\text{证明，} \quad R(\mathbf{a} \times \mathbf{b}) = (R\mathbf{a}) \times (R\mathbf{b}) \quad \text{，其中} \ R \ \text{是旋转矩阵} 
$$